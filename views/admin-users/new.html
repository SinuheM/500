{% extends '../layouts/admin.html' %}

{% block title %}User list{% endblock %}

{% block head %}
	<link rel="stylesheet" href="/css/jquery.tagsinput.css" />
{% endblock %}

{% block header %}
	<i class="fa fa-user"></i> Add user
{% endblock %}

{% block content %}
<div class="panel panel-dark">
	<form id="create-user" class="form-horizontal form-bordered" method="post" action="/admin/users/new" enctype="multipart/form-data">
		<div class="panel-heading">
			<h4 class="panel-title">Edit user information</h4>
		</div>
		<div class="panel-body panel-body-nopadding">
			<div class="form-group">
				<label class="col-sm-3 control-label">Name</label>
				<div class="col-sm-6">
					<input name="displayName" type="text" class="form-control" value="{{angelListUser.displayName}}">
					<input name="angelListId" type="hidden" class="form-control" value="{{angelListUser.angelListId}}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Avatar</label>
				<div class="col-sm-6">
					<div class="image-uploader" name="avatar">
						<img src="{{angelListUser.avatar}}"/>
					</div>
					<input name="remoteLogoUrl" value="{{angelListUser.avatar}}" type="hidden">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Slug</label>
				<div class="col-sm-6">
					<div class="input-group">
						<span class="input-group-addon">500.co/</span>
						<input name="slug" type="text" placeholder="select-a-slug" class="input-slug form-control" value="{{angelListUser.slug}}">
					</div>					
				</div>
			</div>	
			<div class="form-group">
				<label class="col-sm-3 control-label">Email</label>
				<div class="col-sm-6">
					<input name="email" type="text" class="form-control">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Type</label>
				<div class="col-sm-5">
					<select name="type" class="form-control input-sm mb15">
						<option value="founder">Founder</option>
						<option value="mentor">Mentor</option>
						<option value="team">Team</option>
						<option value="admin">Admin</option>
					</select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Company</label>
				<div class="col-sm-6">
					<input name="company" type="text" class="form-control">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Team Group</label>
				<div class="col-sm-6">
					<select name="group" class="form-control input-sm mb15">
						<option value="support">Portafolio support</option>
						<option value="distribution">Distribution</option>
						<option value="investment">Investment</option>
						<option value="managment">Managment</option>
					<select/>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Title</label>
				<div class="col-sm-6">
					<input name="title" type="text" class="form-control">
				</div>
			</div>			
			<div class="form-group">
				<label class="col-sm-3 control-label">Bio</label>
				<div class="col-sm-6">
					<textarea name="bio" class="form-control" rows="5">{{angelListUser.bio}}</textarea>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Location</label>
				<div class="col-sm-6">
					<input name="location" type="text" class="form-control" value="{{angelListUser.location}}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Link</label>
				<div class="col-sm-6">
					<input name="link" type="text" class="form-control" value="{{angelListUser.link}}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Expertise</label>
				<div class="col-sm-6">
					<input name="expertise" class="form-control form-tags" placeholder="Add expertise"/>
				</div>
			</div>			
			<legend>Profiles</legend>
			{% for profile in angelListUser.socialContacts %}
			<div class="form-group">
				<label class="col-sm-3 control-label">{{ profile.provider }}</label>
				{% if profile.provider !== 'blog' %}
				<div class="col-sm-6">
					<div class="input-group">
						<span class="input-group-addon">{{profile.provider|slugPlaceholder}}</span>
						<input name="{{profile.provider}}" type="text" placeholder="select-a-slug" class="input-slug form-control" value="{{profile.url}}">
					</div>					
				</div>
				{% else %}
				<div class="col-sm-6">
					<input name="{{profile.provider}}" type="text" class="form-control" value="{{profile.url}}">
				</div>
				{% endif %}
			</div>
			{% endfor %}
		</div>
		<div class="panel-footer">
			<div class="row">
				<div class="col-sm-9 col-sm-offset-3 text-right">
					<button class="btn btn-primary">Submit</button>
				</div>
			</div>
		</div>		
	</form>
</div>
{% endblock %}

{% block js %}
<script type="text/javascript" src="/js/vendors/jquery.tagsinput.min.js"></script>
<script type="text/javascript">
$(document).ready(function () {
	$('#create-user').on('submit', function (e) {
		var $avatarUploader = $('#create-user #uploader-avatar');

		if($avatarUploader.val() === ''){
			$avatarUploader.remove();
		}
	});
});
</script>
{% endblock %}
